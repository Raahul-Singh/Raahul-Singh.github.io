{{ define "main" }}
<section class="home-section">
    <!-- Simple welcome section -->
    <div class="welcome-section">
        <h1 class="profile-title">{{ .Site.Params.author }}</h1>
        <div class="welcome-text">
            <p class="profile-description">{{ .Site.Params.authorDescription }}</p>
            
            <!-- Main content from markdown file if any -->
            <div class="home-content">
                {{ .Content }}
            </div>
            
            <!-- Section links -->
            <div class="section-links">
                <a href="/essays/" class="section-link">Essays</a>
                <a href="/books/" class="section-link">Book Reviews</a>
                <a href="/about/" class="section-link">About</a>
            </div>
        </div>
    </div>

    <!-- Recent content section -->
    <div class="recent-content">
        <div class="section-header-simple">
            <h3 class="section-title">Recent Content</h3>
        </div>
        
        <ul class="content-list">
            {{ $recentContent := first 5 (sort (where .Site.RegularPages "Section" "ne" "") "Date" "desc") }}
            {{ if $recentContent }}
            {{ range $recentContent }}
            <li class="list-item">
                <div class="item-title-line">
                    <h4 class="item-title"><a href="{{ .Permalink }}">{{ .Title }}</a></h4>
                    {{ if eq .Section "books" }}
                    {{ with .Params.author }}
                    <span class="item-meta-inline">by {{ . }}</span>
                    {{ end }}
                    {{ if .Params.rating }}
                    <span class="item-rating">
                        {{ $rating := int .Params.rating }}
                        {{ range seq $rating }}★{{ end }}
                        {{ if eq (mod .Params.rating 1) 0.5 }}½{{ end }}
                    </span>
                    {{ end }}
                    {{ end }}
                </div>
                <div class="item-meta">
                    <span class="item-section">{{ if eq .Section "books" }}Book Review{{ else }}Essay{{ end }}</span>
                    <span class="item-date">{{ .Date.Format "January 2, 2006" }}</span>
                </div>
            </li>
            {{ end }}
            {{ else }}
            <li>No content yet.</li>
            {{ end }}
        </ul>
    </div>

    <!-- Search section if enabled -->
    {{ if .Site.Params.features.searchEnabled }}
    <section class="search-section">
        <h3 class="section-title">Search</h3>
        <form id="search-form" class="search-form">
            <input type="search" id="search-input" placeholder="Search for content..." aria-label="Search">
            <button type="submit">Search</button>
        </form>
    </section>
    {{ end }}
</section>
{{ end }} 